# éƒ¨è½æ ¼é‹ä½œæµç¨‹

## æ•´é«”æ¶æ§‹åœ–

```mermaid
flowchart TD
    subgraph LOCAL["ğŸ–¥ï¸ æœ¬æ©Ÿé–‹ç™¼"]
        A["ä½¿ç”¨ Hugo æ’°å¯«æ–‡ç« \n(Markdown å…§å®¹)"] --> B["git push åˆ° GitHub\n(main åˆ†æ”¯)"]
    end

    subgraph GHA["âš™ï¸ GitHub Actions (è‡ªå‹•åŒ–)"]
        B --> C["è§¸ç™¼ hugo.yml workflow"]
        C --> D["Checkout ç¨‹å¼ç¢¼"]
        D --> E["å®‰è£ Hugo Extended"]
        E --> F["hugo --gc --minify\nç”¢ç”Ÿéœæ…‹ HTML åˆ° /public"]
        F --> G["Upload artifact"]
        G --> H["Deploy to GitHub Pages"]
    end

    subgraph INFRA["ğŸŒ ç¶²è·¯åŸºç¤è¨­æ–½"]
        H --> I["GitHub Pages\nè¨—ç®¡éœæ…‹ç¶²ç«™\n(username.github.io)"]
        J["GoDaddy\næ“æœ‰ç¶²åŸŸ sihle.cc"] -->|"NS è¨˜éŒ„æŒ‡å‘ Cloudflare"| K["Cloudflare\nDNS ä»£ç†"]
        K -->|"CNAME: blog.sihle.cc\nâ†’ username.github.io"| I
    end

    subgraph USER["ğŸ‘¤ è¨ªå®¢"]
        L["ç€è¦½å™¨è¼¸å…¥\nblog.sihle.cc"] --> K
        I --> M["å›å‚³ç¶²é å…§å®¹"]
        M --> L
    end

    style LOCAL fill:#1a1a2e,stroke:#e94560,color:#eee
    style GHA fill:#16213e,stroke:#0f3460,color:#eee
    style INFRA fill:#0f3460,stroke:#533483,color:#eee
    style USER fill:#533483,stroke:#e94560,color:#eee
```

## å„éšæ®µè©³ç´°èªªæ˜

### 1ï¸âƒ£ æœ¬æ©Ÿé–‹ç™¼ â€” Hugo éœæ…‹ç¶²ç«™ç”¢ç”Ÿå™¨

åœ¨æœ¬æ©Ÿç”¨ **Hugo** æ’°å¯«éƒ¨è½æ ¼ï¼Œå°ˆæ¡ˆçµæ§‹å¦‚ä¸‹ï¼š

| ç›®éŒ„ / æª”æ¡ˆ | ç”¨é€” |
|---|---|
| `content/` | Markdown æ–‡ç« å…§å®¹ |
| `layouts/` | HTML ç‰ˆé¢æ¨¡æ¿ |
| `assets/` | CSS / JS ç­‰å‰ç«¯è³‡æº |
| `static/` | ä¸éœ€è™•ç†çš„éœæ…‹æª”æ¡ˆï¼ˆåœ–ç‰‡ç­‰ï¼‰ |
| `hugo.toml` | ç¶²ç«™è¨­å®šï¼ˆ`baseURL = 'https://blog.sihle.cc/'`ï¼‰ |

Hugo æ˜¯**éœæ…‹ç¶²ç«™ç”¢ç”Ÿå™¨**ï¼Œå®ƒæŠŠ Markdown + æ¨¡æ¿**ç·¨è­¯**æˆç´” HTML/CSS/JSï¼Œä¸éœ€è¦å¾Œç«¯ä¼ºæœå™¨ã€‚

---

### 2ï¸âƒ£ GitHub Actions â€” è‡ªå‹•å»ºç½®èˆ‡éƒ¨ç½²

ç•¶ `git push` åˆ° `main` åˆ†æ”¯æ™‚ï¼Œ`.github/workflows/hugo.yml` æœƒè‡ªå‹•è§¸ç™¼ï¼Œåˆ†å…©å€‹ Job åŸ·è¡Œï¼š

```
Job 1: build                    Job 2: deploy
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Checkout ç¨‹å¼ç¢¼  â”‚            â”‚ Deploy to            â”‚
â”‚       â†“         â”‚            â”‚ GitHub Pages         â”‚
â”‚ å®‰è£ Hugo       â”‚  â”€â”€â”€â”€â”€â”€â”€â–º  â”‚ (éœ€è¦ build å®Œæˆå¾Œ)   â”‚
â”‚       â†“         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ hugo --gc --minifyâ”‚
â”‚       â†“         â”‚
â”‚ Upload /public  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Build Job**ï¼šæŠŠ Hugo åŸå§‹ç¢¼ç·¨è­¯æˆéœæ…‹ç¶²ç«™ï¼ˆ`/public` ç›®éŒ„ï¼‰ï¼Œæ‰“åŒ…ç‚º artifact
- **Deploy Job**ï¼šå–å¾— artifactï¼Œéƒ¨ç½²åˆ° GitHub Pages æœå‹™

---

### 3ï¸âƒ£ GitHub Pages â€” éœæ…‹ç¶²ç«™è¨—ç®¡

GitHub Pages æ¥æ”¶éƒ¨ç½²çš„éœæ…‹æª”æ¡ˆå¾Œï¼Œé€é `username.github.io` æä¾›æœå‹™ã€‚åœ¨ GitHub Pages è¨­å®šä¸­æŒ‡å®šäº†**è‡ªè¨‚ç¶²åŸŸ** `blog.sihle.cc`ï¼ŒGitHub æœƒï¼š

- ç”¢ç”Ÿä¸€å€‹ `CNAME` æª”æ¡ˆ
- è‡ªå‹•ç°½ç™¼ SSL æ†‘è­‰ï¼ˆHTTPSï¼‰

---

### 4ï¸âƒ£ GoDaddy â†’ Cloudflare â†’ GitHub Pagesï¼ˆDNS æµç¨‹ï¼‰

é€™æ˜¯è¨ªå®¢å¾ç€è¦½å™¨åˆ°ç¶²ç«™çš„è·¯å¾‘ï¼š

```
è¨ªå®¢è¼¸å…¥ blog.sihle.cc
        â”‚
        â–¼
   DNS æŸ¥è©¢ï¼šblog.sihle.cc çš„ IP æ˜¯ä»€éº¼ï¼Ÿ
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GoDaddyï¼ˆç¶²åŸŸè¨»å†Šå•†ï¼‰                        â”‚
â”‚  â–º NS è¨˜éŒ„æŒ‡å‘ Cloudflare çš„ Name Server      â”‚
â”‚  â–º æ„æ€æ˜¯ï¼šã€ŒDNS è§£æåˆ¥å•æˆ‘ï¼Œå»å• Cloudflareã€  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cloudflareï¼ˆDNS ä»£ç† + CDNï¼‰                 â”‚
â”‚  â–º CNAME è¨˜éŒ„ï¼šblog.sihle.cc â†’ xxx.github.io â”‚
â”‚  â–º é–‹å•Ÿä»£ç†ï¼ˆæ©˜è‰²é›²æœµ â˜ï¸ï¼‰å¾Œï¼š                  â”‚
â”‚    - æµé‡å…ˆç¶“é Cloudflare                     â”‚
â”‚    - æä¾› CDN å¿«å–ã€DDoS é˜²è­·ã€SSL ç­‰          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Pages                                â”‚
â”‚  â–º å›å‚³ Hugo ç”¢ç”Ÿçš„éœæ…‹ HTML/CSS/JS           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
   è¨ªå®¢çœ‹åˆ° blog.sihle.cc çš„å…§å®¹ âœ…
```

---

### 5ï¸âƒ£ å„æœå‹™çš„è§’è‰²åˆ†å·¥

| æœå‹™ | è§’è‰² | éœ€è¦åšä»€éº¼ |
|---|---|---|
| **GoDaddy** | ç¶²åŸŸè¨»å†Šå•†ï¼ˆè²·ç¶²åŸŸçš„åœ°æ–¹ï¼‰ | å°‡ NS è¨˜éŒ„æ”¹ç‚º Cloudflare æä¾›çš„ Name Server |
| **Cloudflare** | DNS ç®¡ç† + CDN + å®‰å…¨é˜²è­· | è¨­å®š CNAME è¨˜éŒ„æŒ‡å‘ GitHub Pages |
| **GitHub** | ç¨‹å¼ç¢¼å€‰åº« + CI/CD + éœæ…‹è¨—ç®¡ | Push ç¨‹å¼ç¢¼ï¼Œå…¶é¤˜ Actions è‡ªå‹•è™•ç† |
| **Hugo** | éœæ…‹ç¶²ç«™ç”¢ç”Ÿå™¨ | æœ¬æ©Ÿæ’°å¯« Markdownï¼Œæ¡†æ¶å¹«ä½ ç·¨è­¯æˆ HTML |

---

### ğŸ”‘ ä¸€å¥è©±ç¸½çµ

> **ç”¨ Hugo å¯«æ–‡ç«  â†’ Push åˆ° GitHub â†’ Actions è‡ªå‹•ç·¨è­¯ä¸¦éƒ¨ç½²åˆ° GitHub Pages â†’ Cloudflare ä»£ç† DNS è®“ `blog.sihle.cc` æŒ‡å‘ GitHub Pages â†’ è¨ªå®¢é€é Cloudflare çš„ CDN å­˜å–ç¶²ç«™ã€‚**
